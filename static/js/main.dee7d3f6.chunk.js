(this["webpackJsonpproxistore-app"]=this["webpackJsonpproxistore-app"]||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n(20),l=n.n(a),s=n(9),i=(n(27),n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j(e,t){var n=e.title,a=e.titleId,l=u(e,["title","titleId"]);return r.createElement("svg",o({height:"512pt",viewBox:"0 -20 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,c||(c=r.createElement("path",{d:"m465 81.433594v-21.433594c0-33.085938-26.914062-60-60-60h-345c-33.085938 0-60 26.914062-60 60v352c0 33.085938 26.914062 60 60 60h392c33.085938 0 60-26.914062 60-60v-272c0-28.617188-20.148438-52.609375-47-58.566406zm-40-21.433594v20h-90v-20c0-7.011719-1.21875-13.738281-3.441406-20h73.441406c11.027344 0 20 8.972656 20 20zm-150-20c11.027344 0 20 8.972656 20 20v20h-91v-20c0-7.011719-1.21875-13.738281-3.441406-20zm197 372c0 11.027344-8.972656 20-20 20h-392c-11.027344 0-20-8.972656-20-20v-352c0-11.027344 8.972656-20 20-20h84c11.027344 0 20 8.972656 20 20v60h288c11.027344 0 20 8.972656 20 20zm0 0"})))}var b,d,m,f,g,p,O,h,v,x,_,w,y,E,N,k,S=r.forwardRef(j),P=(n.p,n(0)),I=[{to:"/",text:"Home",icon:Object(P.jsx)(S,{})},{to:"/campaigns",text:"Campaigns",icon:Object(P.jsx)(S,{})}],C=function(){return Object(P.jsx)("div",{className:"navbar",children:Object(P.jsx)("nav",{className:"navbar__menu",children:Object(P.jsx)("ul",{className:"tab__li",children:I.map((function(e){return Object(P.jsx)("li",{className:"tab__el",children:Object(P.jsxs)(s.b,{to:e.to,className:"tab",children:[Object(P.jsx)("span",{className:"tab__icon",children:e.icon}),Object(P.jsx)("span",{className:"tab__text",children:e.text})]})},e.to)}))})})})},T=function(e){var t=e.children;return Object(P.jsxs)("div",{className:"mainPageLayout",children:[Object(P.jsx)(C,{}),Object(P.jsx)("div",{className:"mainPageLayout__page",children:Object(P.jsx)("div",{className:"page__content",children:t})})]})},L=function(){return Object(P.jsx)(T,{children:Object(P.jsx)("h1",{children:"Home"})})},B=function(){return Object(P.jsx)(T,{children:Object(P.jsx)("h1",{children:"Help"})})},R=n(7),z=n(22),F=n(4),q=function(e){var t=e.text;return Object(P.jsx)("button",{className:"btn btn--rectangle",children:t})};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K(e,t){var n=e.title,c=e.titleId,a=A(e,["title","titleId"]);return r.createElement("svg",D({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{enableBackground:"new 0 0 56.966 56.966"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,b||(b=r.createElement("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23 s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92 c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17 s-17-7.626-17-17S14.61,6,23.984,6z"})),d||(d=r.createElement("g",null)),m||(m=r.createElement("g",null)),f||(f=r.createElement("g",null)),g||(g=r.createElement("g",null)),p||(p=r.createElement("g",null)),O||(O=r.createElement("g",null)),h||(h=r.createElement("g",null)),v||(v=r.createElement("g",null)),x||(x=r.createElement("g",null)),_||(_=r.createElement("g",null)),w||(w=r.createElement("g",null)),y||(y=r.createElement("g",null)),E||(E=r.createElement("g",null)),N||(N=r.createElement("g",null)),k||(k=r.createElement("g",null)))}var M,U,H,V,X,G,J,W,Y,Q,Z,$,ee,te,ne,ce,re=r.forwardRef(K),ae=(n.p,function(e){var t,n=e.searchName,c=Object(r.createRef)();return Object(P.jsxs)("div",{className:"controller controller--searchbar",onClick:function(){c.current.focus()},children:[Object(P.jsx)("span",{className:"controller__svg",children:Object(P.jsx)(re,{})}),Object(P.jsx)("input",{type:"test",placeholder:"Search",onChange:function(e){clearTimeout(t),t=setTimeout((function(){return n(e.target.value)}),500)},ref:c,size:"14"})]})});function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ie(e,t){var n=e.title,c=e.titleId,a=se(e,["title","titleId"]);return r.createElement("svg",le({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"451.847px",height:"451.847px",viewBox:"0 0 451.847 451.847",style:{enableBackground:"new 0 0 451.847 451.847"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,M||(M=r.createElement("g",null,r.createElement("path",{d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751 c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0 c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"}))),U||(U=r.createElement("g",null)),H||(H=r.createElement("g",null)),V||(V=r.createElement("g",null)),X||(X=r.createElement("g",null)),G||(G=r.createElement("g",null)),J||(J=r.createElement("g",null)),W||(W=r.createElement("g",null)),Y||(Y=r.createElement("g",null)),Q||(Q=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),$||($=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)),ce||(ce=r.createElement("g",null)))}var oe,ue,je,be,de,me,fe,ge,pe,Oe,he,ve,xe,_e,we,ye,Ee,Ne,ke=r.forwardRef(ie),Se=(n.p,function(e){var t=e.pageIndex,n=e.changePage,c=e.maxPageIndex,r=function(e){e>0&&e<=c&&n(e)};return Object(P.jsxs)("div",{className:"controller controller--pageNav",children:[Object(P.jsx)("button",{className:"btn btn--pageNav btn--pageNav--prev ".concat(1===t?" btn--pageNav--prev--disabled":""),onClick:function(){return r(parseInt(t)-1)},children:Object(P.jsx)("span",{className:"pageNav__svg",children:Object(P.jsx)(ke,{})})}),Object(P.jsxs)("p",{className:"pageNav__indicator",children:["Page ",t]}),Object(P.jsx)("button",{className:"btn btn--pageNav btn--pageNav--next ".concat(t===c?" btn--pageNav--next--disabled":""),onClick:function(){return r(parseInt(t)+1)},children:Object(P.jsx)("span",{className:"pageNav__svg",children:Object(P.jsx)(ke,{})})})]})});function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ce(e,t){var n=e.title,c=e.titleId,a=Ie(e,["title","titleId"]);return r.createElement("svg",Pe({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 384 384",style:{enableBackground:"new 0 0 384 384"},xmlSpace:"preserve",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,oe||(oe=r.createElement("g",null,r.createElement("g",null,r.createElement("circle",{cx:192,cy:42.667,r:42.667})))),ue||(ue=r.createElement("g",null,r.createElement("g",null,r.createElement("circle",{cx:192,cy:192,r:42.667})))),je||(je=r.createElement("g",null,r.createElement("g",null,r.createElement("circle",{cx:192,cy:341.333,r:42.667})))),be||(be=r.createElement("g",null)),de||(de=r.createElement("g",null)),me||(me=r.createElement("g",null)),fe||(fe=r.createElement("g",null)),ge||(ge=r.createElement("g",null)),pe||(pe=r.createElement("g",null)),Oe||(Oe=r.createElement("g",null)),he||(he=r.createElement("g",null)),ve||(ve=r.createElement("g",null)),xe||(xe=r.createElement("g",null)),_e||(_e=r.createElement("g",null)),we||(we=r.createElement("g",null)),ye||(ye=r.createElement("g",null)),Ee||(Ee=r.createElement("g",null)),Ne||(Ne=r.createElement("g",null)))}var Te,Le=r.forwardRef(Ce),Be=(n.p,function(){return Object(P.jsx)("div",{className:"btn btn--options thumbnail__options",children:Object(P.jsx)("button",{className:"btn btn--options",onClick:function(e){e.stopPropagation(),console.log("CLick")},children:Object(P.jsx)(Le,{})})})}),Re=function(e){var t=e.campaign;return Object(P.jsxs)(s.b,{to:"".concat("/campaign-details?id=").concat(t.id.value),className:"campaignThumbnail",children:[Object(P.jsx)("p",{className:function(){var e="campaign__status";return t.details.status&&(e+=" ".concat(e,"--").concat(t.details.status.toLowerCase())),e}(),children:function(){var e=t.details.status;return(e=e.toLowerCase()).charAt(0).toUpperCase()+e.slice(1)}()}),Object(P.jsx)("h3",{className:"campaign__name",children:t.details.name}),Object(P.jsx)("p",{className:"campaign__id",children:t.id.value}),Object(P.jsx)(Be,{})]})},ze=function(e){var t=e.list;return Object(P.jsx)("div",{className:"campaignList",children:Object(P.jsx)("ul",{className:"campaignThumbnail__li",children:t.map((function(e){return Object(P.jsx)("li",{className:"campaignThumbnail__el",children:Object(P.jsx)(Re,{campaign:e})},e.id.value)}))})})},Fe=function(){var e=Object(r.useState)(1),t=Object(F.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(new Array(0)),l=Object(F.a)(a,2),s=l[0],i=l[1],o=Object(r.useState)({}),u=Object(F.a)(o,2),j=u[0],b=u[1],d=Object(r.useState)({loading:!1,error:!1}),m=Object(F.a)(d,2),f=m[0],g=m[1],p=1e3,O=2e3;Object(r.useEffect)((function(){f.loading&&(f.error?setTimeout((function(){return h()}),O):setTimeout((function(){return h()}),p))}),[f]);Object(r.useEffect)((function(){0===Object.keys(j).length&&j.constructor===Object?function(){var e=Object(z.a)(new URLSearchParams(window.location.search)),t={size:10};e.forEach((function(e){t[e[0]]=e[1]})),t.hasOwnProperty("page")||(t.page=1),b(Object(R.a)({},t))}():g({loading:!0})}),[j]);var h=function(){var e=function(){var e="?";return Object.entries(j).forEach((function(t,n){n>0&&(e+="&"),e+="".concat(t[0],"=").concat(t[1])})),e}();window.history.replaceState("","Campaigns","/campaigns".concat(e)),fetch("https://proxistore-campaign-qof7m4cq5q-ew.a.run.app/campaigns"+e).then((function(e){if(e.ok)return e.json();throw Error(e.statusText)})).then((function(e){g({loading:!1,error:!1}),e.total!==n&&c(e.total),i(e.result)})).catch((function(e){g({loading:!1,error:!0}),console.log(e)}))},v=function(e){var t=Object(R.a)({},j);Object.entries(e).forEach((function(e){t[e[0]]=e[1]})),b(Object(R.a)({},t))};return Object(P.jsx)(T,{children:Object(P.jsxs)("div",{className:"campaignListing",children:[Object(P.jsxs)("div",{className:"campaignListing__head",children:[Object(P.jsx)("h1",{className:"title title--page",children:"Campaign Listing"}),Object(P.jsx)(q,{text:"Add campaign"}),Object(P.jsxs)("div",{className:"campaignListing__tools",children:[Object(P.jsx)(ae,{searchName:function(e){return v({search:e})}}),Object(P.jsx)(Se,{pageIndex:j.page,changePage:function(e){return v({page:e})},maxPageIndex:n})]})]}),f.error?(console.log("ERROR !"),Object(P.jsx)("p",{children:"Error"})):f.loading?Object(P.jsx)("p",{children:"Loading"}):Object(P.jsx)(ze,{list:s})]})})},qe=function(){var e=Object(i.f)();return Object(P.jsxs)("button",{className:"btn btn--back",onClick:function(){e.goBack()},children:[Object(P.jsx)("span",{className:"btn__svg",children:Object(P.jsx)(ke,{})}),Object(P.jsx)("p",{className:"btn__message",children:"Go Back"})]})},De=function(e){var t=e.children,n=e.classname,c=e.title;return Object(P.jsxs)("section",{className:"campaign__info campaign__info--".concat(n),children:[Object(P.jsx)("h2",{className:"title title--campaignInfo",children:c}),Object(P.jsx)("div",{className:"info__content",children:t})]})},Ae=function(e){var t=e.children,n=e.className,c=e.title;return Object(P.jsxs)("div",{className:"info__block ".concat(n),children:[Object(P.jsx)("h3",{className:"info__block__title",children:c}),Object(P.jsx)("div",{className:"info__block__content",children:t})]})},Ke=function(e){var t=e.children;return Object(P.jsx)(Ae,{className:"identifierBlock",title:"Identifiers",children:t})},Me=function(e){var t=e.title,n=e.value;return Object(P.jsx)(Ae,{className:"singleBlock",title:t,children:Object(P.jsx)("p",{className:"singleInfo",children:n})})};function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ve(e,t){var n=e.title,c=e.titleId,a=He(e,["title","titleId"]);return r.createElement("svg",Ue({height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,Te||(Te=r.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"})))}var Xe,Ge=r.forwardRef(Ve),Je=(n.p,function(e){var t=e.value,n=e.deleteTarget;return Object(P.jsxs)("div",{className:"target",children:[Object(P.jsx)("p",{className:"target__value",children:t}),Object(P.jsx)("button",{className:"btn btn--deleteValue",onClick:function(){return n(t)},children:Object(P.jsx)(Ge,{})})]})}),We=function(e){var t=e.targets,n=e.deleteTarget;return Object(P.jsx)("ul",{className:"target__li",children:t.segments.map((function(e){return Object(P.jsx)("li",{className:"target__el",children:Object(P.jsx)(Je,{value:e.value,deleteTarget:function(e){return n(e)}})},e.value)}))})};function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ze(e,t){var n=e.title,c=e.titleId,a=Qe(e,["title","titleId"]);return r.createElement("svg",Ye({height:"426.66667pt",viewBox:"0 0 426.66667 426.66667",width:"426.66667pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,Xe||(Xe=r.createElement("path",{d:"m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0"})))}var $e,et=r.forwardRef(Ze),tt=(n.p,function(e){var t=e.targets,n=e.addTarget,c=Object(r.useState)(""),a=Object(F.a)(c,2),l=a[0],s=a[1],i=Object(r.createRef)(),o=function(){for(var e=0;e<t.segments.length;e++)if(t.segments[e].value.toLowerCase()===l.toLowerCase())return!0;return!1};return Object(P.jsxs)("div",{className:"controller controller--targetNew",onClick:function(){i.current.focus()},children:[Object(P.jsx)("span",{className:"controller__svg",children:Object(P.jsx)(et,{})}),Object(P.jsx)("input",{type:"test",placeholder:"Add Target",onChange:function(e){s(e.target.value)},onKeyDown:function(e){return function(e){13===e.keyCode&&""!==l&&(o()?console.log("Target Already existing"):(n(l),i.current.value="",s("")))}(e)},ref:i,size:"10"})]})}),nt=function(e){var t=e.targets,n=e.deleteTarget,c=e.addTarget;return Object(P.jsxs)(Ae,{title:"Targets",children:[Object(P.jsx)(We,{targets:t,deleteTarget:function(e){return n(e)}}),Object(P.jsx)(tt,{targets:t,addTarget:function(e){return c(e)}})]})},ct=function(e){var t=e.campaign,n=e.deleteTarget,c=e.addTarget;return Object(P.jsxs)(De,{title:"General",classname:"general",children:[Object(P.jsxs)(Ke,{children:[Object(P.jsx)("h4",{className:"campaign__name",children:t.details.name}),Object(P.jsx)("p",{className:"campaign__id",children:t.id.value}),Object(P.jsxs)("div",{className:"campaign__info",children:[Object(P.jsx)(Me,{title:"Status",value:t.details.status}),Object(P.jsx)(Me,{title:"Source",value:t.details.source}),Object(P.jsx)(Me,{title:"Budget",value:"".concat(t.details.budget.value," ").concat(t.details.budget.currency)})]})]}),Object(P.jsx)(nt,{targets:t.targets,deleteTarget:function(e){return n(e)},addTarget:function(e){return c(e)}})]})},rt=function(e){var t=e.currentKey,n=e.keys,c=e.changeKey;return Object(P.jsx)("div",{className:"controller controller--piechart",children:Object(P.jsx)(r.Fragment,{children:n.map((function(e,n){return Object(P.jsx)("button",{className:"btn btn--piechart".concat(t===e?" btn--piechart--active":""),onClick:function(){return c(e)},children:e},e)}))})})},at=function(e){var t=e.plateform,n=e.value,c=e.percentage;return Object(P.jsxs)("div",{className:"views__counter",children:[Object(P.jsx)("p",{className:"counter__plateform",children:t}),Object(P.jsxs)("p",{className:"counter__value",children:[n," views"]}),Object(P.jsxs)("p",{className:"counter__percentage",children:[Math.round(c),"%"]})]})},lt=function(e){var t=e.counts,n=Object.values(t).reduce((function(e,t){return e+t}));return Object(P.jsx)("ul",{className:"views__counter__li",children:Object(P.jsx)(r.Fragment,{children:Object.entries(t).map((function(e){return Object(P.jsx)("li",{className:"views__counter__el views__counter__el--".concat(e[0].toLowerCase()),children:Object(P.jsx)(at,{plateform:e[0],value:e[1],percentage:(t=e[1],t/n*100)})},e[0]);var t}))})})},st=n(16),it=function(e){var t,n=e.counts,c=["#f7ca7c","#f7a63e","#f76a00","#df4e00"],r=Object.values(n).reduce((function(e,t){return e+t}));return Object(P.jsxs)("div",{className:"piechart__display",children:[Object(P.jsx)(st.PieChart,{data:(t=n,Object.entries(t).map((function(e,t){return{title:e[0],value:e[1],color:c[t]}}))),lineWidth:36}),Object(P.jsxs)("div",{className:"piechart__info",children:[Object(P.jsx)("h5",{className:"piechart__message",children:"Total"}),Object(P.jsx)("p",{className:"piechart__total",children:r})]})]})},ot=function(e){var t=e.views,n=Object(r.useState)(Object.keys(t)[0]),c=Object(F.a)(n,2),a=c[0],l=c[1];return Object(P.jsxs)(Ae,{className:"viewsDetailBlock",title:"Views Detail",children:[Object(P.jsx)(rt,{currentKey:a,keys:Object.keys(t),changeKey:function(e){return l(e)}}),Object(P.jsx)(it,{counts:t[a].counts}),Object(P.jsx)(lt,{counts:t[a].counts})]})},ut=function(e){var t=e.views,n=e.clicks,c=function(e){return e.reduce((function(e,t){return e+t}))};return Object(P.jsxs)(De,{title:"Stats",classname:"stats",children:[Object(P.jsx)(Me,{title:"Expected views",value:c(Object.values(t.expected.counts))}),Object(P.jsx)(Me,{title:"Real views",value:c(Object.values(t.effective.counts))}),Object(P.jsx)(Me,{title:"Unique visitors",value:n.unique}),Object(P.jsx)(Me,{title:"Visitor total",value:n.count}),Object(P.jsx)(ot,{views:t})]})};function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function bt(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dt(e,t){var n=e.title,c=e.titleId,a=bt(e,["title","titleId"]);return r.createElement("svg",jt({height:"417pt",viewBox:"0 -46 417.81333 417",width:"417pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,$e||($e=r.createElement("path",{d:"m159.988281 318.582031c-3.988281 4.011719-9.429687 6.25-15.082031 6.25s-11.09375-2.238281-15.082031-6.25l-120.449219-120.46875c-12.5-12.5-12.5-32.769531 0-45.246093l15.082031-15.085938c12.503907-12.5 32.75-12.5 45.25 0l75.199219 75.203125 203.199219-203.203125c12.503906-12.5 32.769531-12.5 45.25 0l15.082031 15.085938c12.5 12.5 12.5 32.765624 0 45.246093zm0 0"})))}var mt=r.forwardRef(dt),ft=(n.p,function(e){var t=e.timeRange,n=e.value,c=e.updateSlot;return Object(P.jsx)("div",{className:"slot ".concat(n?" slot--checked":""),onClick:function(){return c(t)},children:Object(P.jsx)("span",{className:"slot__state",children:Object(P.jsx)(mt,{})})})}),gt=function(e){var t=e.title,n=e.slots,c=e.updateSlot;return Object(P.jsxs)("div",{className:"slots__row",children:[Object(P.jsx)("h4",{className:"row__title",children:t}),Object(P.jsx)("ul",{className:"row__brick__li",children:Object.entries(n).map((function(e){return Object(P.jsx)("li",{className:"row__brick__el",children:Object(P.jsx)(ft,{timeRange:e[0],value:e[1],updateSlot:function(e){return c(t,e)}})},e[0])}))})]})},pt=function(e){var t=e.title,n=e.slots,c=e.updateSlot;return Object(P.jsxs)("div",{className:"slots__array",children:[t?Object(P.jsx)("h3",{className:"slots__array__title",children:t}):null,Object(P.jsx)("ul",{className:"slots__row__li",children:n.map((function(e){return Object(P.jsx)("li",{className:"slots__row__el",children:Object(P.jsx)(gt,{title:e[0],slots:e[1],updateSlot:function(e,t){return c(e,t)}})},e[0])}))})]})},Ot=function(e){var t=e.slots,n=e.updateSlot,c=Object.entries(t).slice(0,5),r=Object.entries(t).slice(5,7);return Object(P.jsxs)(Ae,{title:"Slots",className:"slotsBlock",children:[Object(P.jsx)(pt,{slots:c,updateSlot:function(e,t){return n(e,t)}}),Object(P.jsx)(pt,{title:"Weekend",slots:r,updateSlot:function(e,t){return n(e,t)}})]})},ht=function(e){var t=e.diffusion,n=e.updateSlot,c=function(e){var t=new Date(e),n=t.getDay();n<10&&(n="0".concat(n));var c=t.getMonth();return c<10&&(c="0".concat(c)),console.log(n),"".concat(n,"/").concat(c,"/").concat(t.getFullYear())};return Object(P.jsxs)(De,{title:"Diffusion",classname:"diffusion",children:[Object(P.jsx)(Me,{title:"From",value:c(t.period.from)}),Object(P.jsx)(Me,{title:"To",value:c(t.period.to)}),Object(P.jsx)(Ot,{slots:t.slots.slots,updateSlot:function(e,t){return n(e,t)}})]})},vt=function(){var e=Object(r.useState)({}),t=Object(F.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){if(0===Object.keys(n).length&&n.constructor===Object){var e=new URLSearchParams(window.location.search);a(e.get("id"))}}),[n]);var a=function(e){fetch("".concat("https://proxistore-campaign-qof7m4cq5q-ew.a.run.app/campaigns/").concat(e)).then((function(e){return e.json()})).then((function(e){c(e)}))};return Object(P.jsx)(T,{children:Object(P.jsxs)("div",{className:"campaignDetails",children:[Object(P.jsx)(qe,{}),0===Object.keys(n).length&&n.constructor===Object?Object(P.jsx)("p",{children:"Empty"}):Object(P.jsxs)(r.Fragment,{children:[Object(P.jsx)(ct,{campaign:n,deleteTarget:function(e){return function(e){var t=Object(R.a)({},n);t.targets.segments=t.targets.segments.filter((function(t){return t.value!==e})),c(t)}(e)},addTarget:function(e){return function(e){var t=Object(R.a)({},n);t.targets.segments.push({value:e}),c(t)}(e)}}),Object(P.jsx)(ut,{views:n.statistics.views,clicks:n.statistics.clicks}),Object(P.jsx)(ht,{updateSlot:function(e,t){return function(e,t){var r=Object(R.a)({},n);r.diffusion.slots.slots[e][t]=!r.diffusion.slots.slots[e][t],c(r)}(e,t)},diffusion:n.diffusion})]})]})})};var xt=function(){return Object(P.jsxs)(i.c,{children:[Object(P.jsx)(i.a,{exact:!0,path:"/",children:Object(P.jsx)(L,{})}),Object(P.jsx)(i.a,{exact:!0,path:"/help",children:Object(P.jsx)(B,{})}),Object(P.jsx)(i.a,{exact:!0,path:"/campaigns",children:Object(P.jsx)(Fe,{})}),Object(P.jsx)(i.a,{exact:!0,path:"/campaign-details",children:Object(P.jsx)(vt,{})}),Object(P.jsx)(i.a,{children:Object(P.jsx)("h1",{children:"404"})})]})},_t=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),r(e),a(e),l(e)}))};l.a.render(Object(P.jsx)(s.a,{children:Object(P.jsx)(xt,{})}),document.getElementById("root")),_t()}},[[34,1,2]]]);
//# sourceMappingURL=main.dee7d3f6.chunk.js.map